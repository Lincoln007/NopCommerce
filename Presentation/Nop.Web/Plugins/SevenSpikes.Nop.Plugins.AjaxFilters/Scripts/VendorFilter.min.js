/*
* Copyright 2016 Seven Spikes Ltd. All rights reserved. (http://www.nop-templates.com)
* http://www.nop-templates.com/t/licensinginfo
*/

!function(e,t){function r(r,n){var i=e(".vendorFilterPanel7Spikes .filtersGroupPanel"),o=new Object;return o.CategoryId=r,o.VendorFilterItems=new Array,void 0!=n&&n.is(i)&&(o.Priority=1),i.find("[data-option-ids]").each(function(){var r=e(this),n=r.attr("data-option-ids"),i=new Object;i.Id=n,i.FilterItemState=t.getFilterItemStateBasedOnAttributes(r),o.VendorFilterItems.push(i)}),o}function n(r,n){var i=e(".vendorFilterPanel7Spikes .filtersGroupPanel"),o="usedropdowns"===n,a=o;i.find("[data-option-ids]").each(function(){var n=e(this),i=parseInt(n.attr("data-option-ids"))||0,s=e.grep(r.VendorFilterItems,function(e){return e.Id===i});0!==s.length&&(a=t.addStateClassAndAttributesToOption(n,s[0].FilterItemState,o,a))}),o&&a&&i.find('[value="0"]').attr("selected","selected")}t.prototype.buildVendorFiltersModel=r,t.prototype.refreshVendorFilters=n,e(document).ready(function(){e(".vendorFilterPanel7Spikes").find('.attribute-options-select, .checkbox-list input[type="checkbox"]').on("change",function(){var r=e(this),n=r.closest(".filtersGroupPanel"),i=new t;i.requestProductsForSelectedFilters(n,r)})})}(jQuery,FiltersManager);