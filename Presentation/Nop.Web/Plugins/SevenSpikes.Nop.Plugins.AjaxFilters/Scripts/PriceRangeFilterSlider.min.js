/*
* Copyright 2015 Seven Spikes Ltd. All rights reserved. (http://www.nop-templates.com)
* http://www.nop-templates.com/t/licensinginfo
*/

PriceRangeFilterManager=function(){},function(e,r,i){function l(r,l,t,a){var n=parseFloat(e("#slider").attr("data-sliderMinValue")),c=parseFloat(e("#slider").attr("data-sliderMaxValue")),d=i.sliderSelectedFromValue,s=i.sliderSelectedToValue,o=new Object;o.CategoryId=r,o.ManufacturerId=l,o.VendorId=t,void 0!=a&&a.get(0)===e(".priceRangeFilterPanel7Spikes").get(0)&&(o.Priority=1);var p=new Object;return void 0!=d&&d!==n&&(p.From=d.toString()),void 0!=s&&s!==c&&(p.To=s.toString()),o.SelectedPriceRange=p,o.MinPrice=n.toString(),o.MaxPrice=c.toString(),o}function t(r,l){var t=parseFloat(e("#slider").attr("data-sliderMinValue")),a=parseFloat(e("#slider").attr("data-sliderMaxValue"));(null==r||null==l)&&(e("#slider").slider("option","values",[t,a]),i.sliderSelectedFromValue=t,i.sliderSelectedToValue=a,e(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMinPrice").html(t.toFixed()),e(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMaxPrice").html(a.toFixed())),null==r&&null!=l&&(e("#slider").slider("option","values",[t,l]),i.sliderSelectedFromValue=t,i.sliderSelectedToValue=l,e(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMinPrice").html(t.toFixed()),e(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMaxPrice").html(l.toFixed())),null!=r&&null==l&&(e("#slider").slider("option","values",[r,a]),i.sliderSelectedFromValue=r,i.sliderSelectedToValue=a,e(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMinPrice").html(r.toFixed()),e(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMaxPrice").html(a.toFixed())),null!=r&&null!=l&&(e("#slider").slider("option","values",[r,l]),i.sliderSelectedFromValue=r,i.sliderSelectedToValue=l,e(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMinPrice").html(r.toFixed()),e(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMaxPrice").html(l.toFixed()));var n=e(".priceRangeFilterPanel7Spikes .title a.clearPriceRangeFilter");r===t&&l===a||null==r&&null==l?n.hide():n.show()}function a(r,i){e(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMinPrice").html(i.values[0].toFixed()),e(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMaxPrice").html(i.values[1].toFixed())}function n(l,t){var a=parseFloat(e("#slider").attr("data-sliderMinValue")),n=parseFloat(e("#slider").attr("data-sliderMaxValue")),c=t.values[0],d=t.values[1];i.sliderSelectedFromValue=c,i.sliderSelectedToValue=d;var s=new r;s.requestProductsForSelectedFilters(e(".priceRangeFilterPanel7Spikes"));var o=e(".priceRangeFilterPanel7Spikes .title a.clearPriceRangeFilter");c===a&&d===n?o.hide():o.show()}function c(i){var l=i.data.priceRangeFilterManager;l.clearPriceRangeFilterControl();var t=new r;t.requestProductsForSelectedFilters(e(".priceRangeFilterPanel7Spikes"))}function d(){e(".priceRangeFilterPanel7Spikes .title a.clearPriceRangeFilter").hide();var r=e("#slider").slider("option","min"),l=e("#slider").slider("option","max");e("#slider").slider("option",{values:[r,l]}),e(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMinPrice").html(r.toFixed()),e(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMaxPrice").html(l.toFixed()),i.sliderSelectedFromValue=r,i.sliderSelectedToValue=l}function s(){var r=e("#slider").slider("option","min"),i=e("#slider").slider("option","max"),l=e("#slider").slider("option","values");return l[0]!==r||l[1]!==i?!0:!1}i.prototype.buildPriceRangeFilterModel=l,i.prototype.SetSliderValues=t,i.prototype.sliderSlide=a,i.prototype.sliderStopped=n,i.prototype.clearPriceRangeFilter=c,i.prototype.clearPriceRangeFilterControl=d,i.prototype.determineIfPriceRangeHasBeenSelected=s,r.prototype.buildPriceRangeFilterModel=(new i).buildPriceRangeFilterModel,r.prototype.SetSliderValues=(new i).SetSliderValues,r.prototype.clearPriceRangeFilterControl=(new i).clearPriceRangeFilterControl,r.prototype.determineIfPriceRangeHasBeenSelected=(new i).determineIfPriceRangeHasBeenSelected,e(document).ready(function(){var r=e("#slider"),l=parseFloat(r.attr("data-sliderMinValue")),t=parseFloat(r.attr("data-sliderMaxValue")),a=r.attr("data-selectedFromValue"),n=r.attr("data-selectedToValue"),c=new i;r.slider({min:l,max:t,range:!0,values:[a,n],slide:c.sliderSlide,stop:c.sliderStopped}),e(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMinPrice").html(l.toFixed()),e(".priceRangeFilterPanel7Spikes .priceRangeCurrentPricesPanel .currentMaxPrice").html(t.toFixed());var d=e(".priceRangeFilterPanel7Spikes .title a.clearPriceRangeFilter");d.click({priceRangeFilterManager:c},c.clearPriceRangeFilter),d.hide()})}(jQuery,FiltersManager,PriceRangeFilterManager);
