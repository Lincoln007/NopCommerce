/*
* Copyright 2016 Seven Spikes Ltd. All rights reserved. (http://www.nop-templates.com)
* http://www.nop-templates.com/t/licensinginfo
*/

!function(t,e){function i(i,n,r,a){var o=new Object,s=t(".onSaleFilterPanel7Spikes .filtersGroupPanel");return o.CategoryId=i,o.ManufacturerId=n,o.VendorId=r,void 0!=a&&a.is(s)&&(o.Priority=1),s.find("[data-option-ids]").each(function(){var i=t(this),n=i.attr("data-option-ids");o.Id=n,o.FilterItemState=e.getFilterItemStateBasedOnAttributes(i)}),o}function n(i,n){var r=t(".onSaleFilterPanel7Spikes .filtersGroupPanel"),a="usedropdowns"===n,o=a;r.find("[data-option-ids]").each(function(){var n=t(this),r=parseInt(n.attr("data-option-ids"))||0;i.Id===r&&(o=e.addStateClassAndAttributesToOption(n,i.FilterItemState,a,o))}),a&&o&&r.find('[value="0"]').attr("selected","selected")}e.prototype.buildOnSaleFiltersModel=i,e.prototype.refreshOnSaleFilters=n,t(document).ready(function(){t(".onSaleFilterPanel7Spikes").find('.attribute-options-select, .checkbox-list input[type="checkbox"]').on("change",function(){var i=t(this),n=i.closest(".filtersGroupPanel"),r=new e;r.requestProductsForSelectedFilters(n,i)})})}(jQuery,FiltersManager);