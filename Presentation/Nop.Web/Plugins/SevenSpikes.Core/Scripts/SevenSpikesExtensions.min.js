/*
 * Copyright 2016 Seven Spikes Ltd. All rights reserved. (http://www.nop-templates.com)
 * http://www.nop-templates.com/t/licensinginfo
 */
! function (e, t) {
    function s(t) {
        var s = function () {
            t && sevenSpikes.isMobile() && e(".product-grid .item-box").addClass("mobile-box")
        };
        s(), e(document).on("nopAjaxFiltersFiltrationCompleteEvent", s)
    }

    function i(s) {
        if (s < t.breakPointWidth) {
            var i = e(".leftside-3 .slider-wrapper, .rightside-3 .slider-wrapper, .side-2 .slider-wrapper").detach();
            e(".master-wrapper-main").append('<div class="mobile-banners"></div>'), e(".mobile-banners").append(i)
        } else e(".mobile-banners").detach()
    }

    function n(s) {
        e(".block").each(function () {
            sevenSpikes.getViewPort().width > t.breakPointWidth ? s || (k.isEnabled === !1 ? (e(this).children().eq(1).show(), e(this).children().eq(0).children("a.toggleControl").removeClass("closed")) : e(this).children(".listbox").eq(0).show(), e(this).find(".jcarousel-container-vertical").show()) : (k.isEnabled === !1 ? (e(this).children().eq(1).hide(), e(this).children().eq(0).children("a.toggleControl").addClass("closed")) : e(this).children(".listbox").eq(0).hide(), e(this).find(".jcarousel-container-vertical").hide())
        })
    }

    function o() {
        e(".block .title").not(e(".nopAjaxFilters7Spikes .block .title")).off("click").on("click", function () {
            if (sevenSpikes.getViewPort().width <= t.breakPointWidth) {
                var s = e(this).siblings();
                s.slideToggle("slow", function () {
                    s.css("overflow", "")
                })
            }
        }), e(".nop-jcarousel.vertical-holder .carousel-title").on("click", function () {
            if (sevenSpikes.getViewPort().width <= t.breakPointWidth) {
                var s = e(this).siblings();
                s.slideToggle("slow", function () {
                    s.css("overflow", "")
                })
            }
        })
    }

    function r(s, i, n, o) {
        var a = e(s);
        sevenSpikes.getViewPort().width <= t.breakPointWidth ? (a.css({
            width: n - 7,
            "z-index": a.css("z-index") + o
        }), e("> .sublist > li > " + i, s).css("width", n - 57)) : (a.css({
            width: "",
            "z-index": ""
        }), e("> .sublist > li > " + i, s).css("width", ""));
        var l = s + "> .sublist > li > .sublist-wrap";
        e(l).length > 0 && r(l, i, n - 7, o + 1)
    }

    function a() {
        e(".mega-menu-responsive").length > 0 ? r(".mega-menu-responsive > li > .sublist-wrap", k.selectors.withSubcategories, 320, 1) : r(k.selectors.headerMenu + " > ul > li > .sublist-wrap", k.selectors.withSubcategories, 320, 1)
    }

    function l(t, s) {
        var i = e(t),
            n = i.filter(".stick");
        if (0 === n.length || 0 === s.length) return void i.removeClass("nav-up");
        var o = e(window).scrollTop();
        return o <= e(s).offset().top ? void i.removeClass("nav-up") : (o > g ? n.addClass("nav-up") : n.removeClass("nav-up"), void (g = o))
    }

    function c(t, s) {
        var i = e(s),
            n = e(window).scrollTop();
        n > 0 && n >= i.offset().top ? (i.css("height", i.height() + "px"), e(t).addClass("stick")) : (i.css("height", ""), e(t).removeClass("stick"))
    }

    function d() {
        k.hasStickyNav && c(k.selectors.navWrapper, k.selectors.navWrapperParent), k.doesDesktopHeaderMenuStick && c(k.selectors.headerMenuDesktopStickElement, k.selectors.headerMenuDesktopStickParentElement), e(window).on("scroll", function () {
            k.hasStickyNav && c(k.selectors.navWrapper, k.selectors.navWrapperParent), k.doesDesktopHeaderMenuStick && c(k.selectors.headerMenuDesktopStickElement, k.selectors.headerMenuDesktopStickParentElement), k.displayGoToTop && (e(window).scrollTop() > 100 ? e("#goToTop").show() : e("#goToTop").hide()), l(k.selectors.navWrapper, k.selectors.navWrapperParent)
        }), k.displayGoToTop && e("#goToTop").on("click", function () {
            e("html,body").animate({
                scrollTop: 0
            }, 400)
        })
    }

    function p(s, i) {
        var n = k.selectors,
            o = k.isSearchBoxDetachable,
            r = k.isHeaderLinksWrapperDetachable;
        s <= t.breakPointWidth ? (e(n.headerMenu).add(e(n.sublist)).add(e(n.overlayOffCanvas)), e(n.filtersContainer).detach().insertAfter(n.headerMenu), o && e(n.searchBox).detach().insertAfter(n.navWrapperParent), r && e(n.headerLinksWrapper).detach().insertAfter(n.headerLinksWrapperMobileInsertAfter), e(n.shoppingCartLink).off("mouseenter.flyout-cart").off("mouseleave.flyout-cart"), e(".top-menu > li > .sublist-wrap").css("display", "")) : (e(n.headerMenu).css({
            height: "",
            top: ""
        }), e(n.sublist).css({
            height: "",
            top: ""
        }), e(n.filtersContainer).css("height", ""), i || e(n.filtersContainer).detach().prependTo(n.ajaxFilterWrapperDesktopPrependTo), r && e(n.headerLinksWrapper).detach().prependTo(n.headerLinksWrapperDesktopPrependTo), o && e(n.searchBox).detach().insertAfter(n.searchBoxBefore), e(n.shoppingCartLink).on("mouseenter.flyout-cart", function (t) {
            var s = e(this).children(".flyout-cart");
            (void 0 == s.attr("isSliding") || "false" === s.attr("isSliding")) && s.attr("isSliding", "true").slideDown(100, function () {
                e(this).css("overflow", ""), e(this).attr("isSliding", "false")
            }), t.preventDefault()
        }).on("mouseleave.flyout-cart", function (t) {
            e(this).children(".flyout-cart").attr("isSliding", "true").slideUp(100, function () {
                e(this).css("overflow", ""), e(this).attr("isSliding", "false")
            }), t.preventDefault()
        }))
    }

    function u() {
        var t = k.selectors;
        e(t.movedElements).removeClass("move-right"), e(t.overlayOffCanvas).fadeOut(function () {
            e(this).removeClass("show")
        }), e("html, body").removeClass("scrollYRemove")
    }

    function h(t) {
        e(t.overlayOffCanvas).addClass("show").fadeIn(), e("html, body").addClass("scrollYRemove"), e(document).trigger({
            type: "onOverlayOffCanvasShow"
        })
    }

    function openSideMenu() {
        if (!e('.nopAjaxFilters7Spikes').hasClass("open")) {
            var t = k.selectors;
            e(t.headerMenu).addClass("open");
            e(t.movedElements).addClass("move-right");
            h(t);
        }
        
    }

    function v() {
        var t = k.selectors;
        k.isSearchBoxDetachable && e(".search-wrap > span").click(function () {
            e(t.searchBox).addClass("open"), h(t)
        }), e(t.headerLinksOpener).on("click", function () {
            e(t.headerLinksWrapper).addClass("open"), h(t)
        }), e(t.menuTitle).click(function () {
            openSideMenu()
        }), e(t.closeMenu).click(function () {
            e(t.headerMenu).removeClass("open"), u(), k.isEnabled && e(".header-menu, .sublist-wrap").perfectScrollbar("destroy")
        }), e(t.overlayOffCanvas).click(function () {
            e(t.sublist).parent().removeClass("active").animate({
                scrollTop: 0
            }), e(t.headerMenu).add(e(t.filtersContainer)).removeClass("open"), k.isSearchBoxDetachable && e(t.searchBox).removeClass("open"), e(t.headerLinksWrapper).removeClass("open"), u(), k.isEnabled && e(".header-menu, .sublist-wrap, .nopAjaxFilters7Spikes.open").perfectScrollbar("destroy")
        }), e(".sublist").on("click", ".back-button", function () {
            e(this).parent(".sublist").parent(".sublist-wrap").removeClass("active"), k.isEnabled && e(this).parents().eq(4).perfectScrollbar({
                swipePropagation: !1,
                wheelSpeed: 2,
                suppressScrollX: !0
            })
        }), e(t.filtersOpener).click(function () {
            e(t.filtersContainer).toggleClass("open"), e(t.movedElements).toggleClass("move-right"), h(t), k.isEnabled && e(".nopAjaxFilters7Spikes.open").perfectScrollbar({
                swipePropagation: !1,
                wheelSpeed: 1,
                suppressScrollX: !0
            })
        }), e('<div class="close-filters"><span></span></div>').insertBefore(".filtersPanel"), e(".close-filters").click(function () {
            e(t.filtersContainer).toggleClass("open"), e(t.movedElements).toggleClass("move-right"), e(t.overlayOffCanvas).fadeOut(function () {
                e(this).removeClass("show")
            }), e("html, body").removeClass("scrollYRemove"), k.isEnabled && e(".nopAjaxFilters7Spikes.open").perfectScrollbar("destroy")
        })
    }

    function m() {
        var e = {
            Android: function () {
                return navigator.userAgent.match(/Android/i)
            },
            BlackBerry: function () {
                return navigator.userAgent.match(/BlackBerry/i)
            },
            iOS: function () {
                return navigator.userAgent.match(/iPhone|iPad|iPod/i)
            },
            Opera: function () {
                return navigator.userAgent.match(/Opera Mini/i)
            },
            Windows: function () {
                return navigator.userAgent.match(/IEMobile/i)
            },
            any: function () {
                return this.Android() || this.BlackBerry() || this.iOS() || this.Opera() || this.Windows() ? !0 : !1
            }
        };
        return e.any()
    }

    function b() {
        if (0 !== e(".item-box .picture a img[data-lazyloadsrc]").length) {
            var t = e(window),
                s = function () {
                    var s = t.scrollTop() + t.outerHeight() + 100;
                    e(".item-box .picture a img[data-lazyloadsrc]").not("[loadedimage]").each(function () {
                        var t = e(this);
                        t.offset().top < s && (t.attr("src", t.attr("data-lazyloadsrc")), t.attr("loadedimage", "true"))
                    })
                };
            e(document).ready(function () {
                s(), t.on("scroll", s)
            }), e(document).on("nopAjaxFiltersFiltrationCompleteEvent nopAjaxCartProductAddedToCartEvent nopQuickViewDataShownEvent newProductsAddedToPageEvent", s)
        }
    }
    var w = !1,
        g = 0,
        k = {
            isEnabled: !1
        };
    ! function (s) {
        "function" != typeof String.prototype.trim && (String.prototype.trim = function () {
            return this.replace(/^\s+|\s+$/g, "")
        }), "function" != typeof String.prototype.startsWith && (String.prototype.startsWith = function (e) {
            return 0 === this.indexOf(e)
        }), window.onerror = function (e, t, i) {
            if (!(null == document.body || s > 10)) {
                var n = "URL: " + t + "��MESSAGE: " + e + "��ROW: " + i,
                    o = document.createElement("input");
                o.setAttribute("class", "javascriptErrorsElement"), o.setAttribute("type", "hidden"), o.setAttribute("value", n), document.body.appendChild(o), s++
            }
        }, window.onload = function () {
            sevenSpikes.getViewPort().width <= t.breakPointWidth && e(".block .jcarousel-container-vertical").hide(), sevenSpikes.isMobile() && e(".mega-menu-responsive .labelForNextPlusButton").on("click", function () {
                e(this).next(".plus-button").click()
            })
        }
    }(0), e.fn.extend({
        simpleSelect: function () {
            return this.each(function () {
                var t = e(this);
                t.wrap('<div class="select-wrap"></div>').after('<span class="select-box"><span class="select-inner">' + t.find(":selected").text() + "</span></span>"), t.change(function () {
                    t.next().children(".select-inner").text(t.find(":selected").text())
                })
            })
        }
    }), t.breakPointWidth = 980, t.isRtl = "true" === e("#isRtlEnabled").val(), t.isMobileDevice = m(), t.AntiSpam = function (e, t) {
        window.location.href = "mailto:" + e + "@" + t
    }, t.getAttrValFromDom = function (t, s, i) {
        var n = e(t).attr(s);
        return (void 0 == n || "" === n) && (n = void 0 != i ? i : ""), n
    }, t.getHiddenValFromDom = function (t, s) {
        var i = e(t).val();
        return (void 0 == i || "" === i) && (i = void 0 != s ? s : ""), i
    }, t.getUrlVar = function (e) {
        for (var t, s = [], i = window.location.href.slice(window.location.href.indexOf("?") + 1).split("&"), n = 0; n < i.length; n++)
            if (t = i[n].split("="), s.push(t[0]), s[t[0]] = t[1], null != e && t[0] === e) return t[1];
        return null != e ? null : s
    }, t.addWindowEvent = function (e, t) {
        window.addEventListener ? window.addEventListener(e, t, !1) : window.attachEvent && window.attachEvent("on" + e, t)
    }, t.getViewPort = function () {
        var e = window,
            t = "inner";
        "innerWidth" in window || (t = "client", e = document.documentElement || document.body);
        var s = {
            width: e[t + "Width"],
            height: e[t + "Height"]
        };
        return s
    }, t.isMobile = m, t.prepareTopMenu = function (s) {
        s = s || t.getViewPort().width, w === !1 && (e(".menu-title").click(function() {

            e(this).hasClass("close") ? e(this).removeClass("close") : e(this).addClass("close"),
                e(this).siblings(".top-menu, .mega-menu-responsive").slideToggle("fast", function() {
                    e(this).css("overflow", "")
                }),
                k.isEnabled && e(".header-menu, .sublist-wrap").perfectScrollbar({
                    swipePropagation: !1,
                    wheelSpeed: 1,
                    suppressScrollX: !0
                })

        }), e(".plus-button").on("click", function (t) {
            var s = e(this);
            t.stopPropagation(), s.hasClass("close") ? s.removeClass("close") : s.addClass("close");
            var i = s.siblings(".sublist-wrap");
            i.hasClass("active") ? i.removeClass("active") : k.isEnabled ? s.parents().eq(2).animate({
                scrollTop: 0
            }, 180, function () {
                i.addClass("active")
            }) : i.addClass("active"), k.isEnabled && s.parents().eq(2).perfectScrollbar("destroy")
        }), w = !0);
        var i = ".top-menu li";
        s > t.breakPointWidth ? (e(".sublist-wrap.active").removeClass("active"), e(".plus-button.close").removeClass("close"), e(i).each(function () {
            var t, s;
            e(this).on("mouseenter", function () {
                var i = e(this);
                clearTimeout(s), t = setTimeout(function () {
                    e("a", i).first().addClass("hover"), e(".sublist-wrap", i).first().addClass("active")
                }, 180)
            }).on("mouseleave", function () {
                var i = e(this);
                clearTimeout(t), s = setTimeout(function () {
                    e("a", i).first().removeClass("hover"), e(".sublist-wrap", i).first().removeClass("active")
                }, 180)
            })
        })) : (e(i).off("mouseenter mouseleave"), e(".sublist-wrap.active").removeClass("active"), e(".plus-button.close").removeClass("close"))
    }, t.initResponsiveTheme = function (r) {
        if (null != r) {
            k = r, null != k.selectors && (null == k.selectors.headerLinksWrapperMobileInsertAfter && (k.selectors.headerLinksWrapperMobileInsertAfter = ".header"), null == k.selectors.headerLinksWrapperDesktopPrependTo && (k.selectors.headerLinksWrapperDesktopPrependTo = ".header"), k.selectors.ajaxFilterWrapperDesktopPrependTo = k.selectors.ajaxFilterWrapperDesktopPrependTo || ".side-2"), t.breakPointWidth = k.themeBreakpoint || 980;
            var l = sevenSpikes.getViewPort().width,
                c = function (o) {
                    var r = sevenSpikes.getViewPort().width;
                    k.isEnabled && o && k.doesDesktopHeaderMenuStick && e(k.selectors.headerMenu).wrap('<div id="headerMenuParent" class="header-menu-parent"></div>'), (o || r > t.breakPointWidth && l <= t.breakPointWidth || r <= t.breakPointWidth && l > t.breakPointWidth) && (t.prepareTopMenu(r), s(k.shouldAddClassForMobile), n(o), k.hasSideBanners && i(r), k.isEnabled && (p(r, o), k.doesSublistHasIndent === !0 && a()), e(document).trigger({
                        type: "themeBreakpointPassed7Spikes",
                        isInitialLoad: o,
                        isMobileResolution: r <= t.breakPointWidth
                    })), l = r
                };
            c(!0), sevenSpikes.addWindowEvent("resize", function () {
                c(!1)
            }), sevenSpikes.addWindowEvent("orientationchange", function () {
                c(!1)
            }), k.isEnabled && ((k.hasStickyNav || k.displayGoToTop || k.doesDesktopHeaderMenuStick) && (null == k.selectors.headerMenuDesktopStickElement && (k.selectors.headerMenuDesktopStickElement = k.selectors.headerMenu), null == k.selectors.headerMenuDesktopStickParentElement && (k.selectors.headerMenuDesktopStickParentElement = "#headerMenuParent"), d()), v(), k.doesScrollAfterFiltration === !0 && e(document).on("nopAjaxFiltersFiltrationCompleteEvent", function () {
                sevenSpikes.getViewPort().width <= t.breakPointWidth && (e(k.selectors.overlayOffCanvas).triggerHandler("click"), setTimeout(function () {
                    e(k.selectors.overlayOffCanvas).hide()
                }, 450))
            })), o(), 0 === e(".nopAjaxFilters7Spikes .block").length && e(".responsive-nav-wrapper .filters-button").remove(), (null == k.DisableFootable || k.DisableFootable === !1) && ("function" == typeof e("body").footable && e(".wishlist-page .cart, .compare-products-table-mobile, .recurring-payments .data-table, .downloadable-products-page .data-table, .reward-points-history .data-table, .order-summary-content .cart, .order-details-page .data-table, .return-request-page .data-table, .forum-table, .private-messages-page .data-table").footable(), e(".checkout-page").length > 0 && e(document).ajaxSuccess(function () {
                e(".order-summary-content .cart").length > 0 && e(".order-summary-content .cart").footable()
            })), b()
        }
    }
}(jQuery, window.sevenSpikes = window.sevenSpikes || {});